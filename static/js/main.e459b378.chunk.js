(this["webpackJsonptweries-app"]=this["webpackJsonptweries-app"]||[]).push([[0],{16:function(e){e.exports=JSON.parse('{"domain":"dev-17-x3zfb.auth0.com","clientId":"iqgFXkcTFo9l80i7llzcurmrfgVsn3TZ"}')},27:function(e){e.exports=JSON.parse('{"a":"1.7.10"}')},32:function(e,t,n){e.exports=n(52)},47:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n(25),c=n.n(r),o=n(10),i=n.n(o),s=n(0),u=n.n(s),l=n(26),p=(n(47),n(16)),d="https://tweries-api.herokuapp.com",f=(n(6),n(3)),b=(n(27),n(5)),m=n.n(b);var h=n(2),g=n.n(h),v=n(4);function w(){return(w=Object(v.a)(g.a.mark((function e(t){var n,a,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.inReplyToTweetUrl,a=t.userId,e.next=3,fetch("".concat(d,"/api/v2/tweet"),{body:JSON.stringify({tweetUrl:n,userId:a}),headers:{"Content-Type":"application/json"},method:"POST"});case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(e){return w.apply(this,arguments)},y="If you want to reply to a specific Tweet:",k="URL goes here";var O=function(e){var t=e.callback,n=e.onChange,a=e.tweetUrl,r=e.userId,c=Object(s.useState)(!1),o=Object(f.a)(c,2),i=o[0],l=o[1],p=Object(s.useState)(!1),d=Object(f.a)(p,2),b=d[0],h=d[1];return Object(s.useEffect)((function(){function e(){return(e=Object(v.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x({inReplyToTweetUrl:a,userId:r});case 3:n=e.sent,console.log(n),n.data?(t(null,n.data),l(!0),h(!1)):(t(n.error),l(!1),h(!1)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),t(e.t0),l(!1),h(!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}a&&r&&(h(!0),function(){e.apply(this,arguments)}())}),[t,a,r]),u.a.createElement(u.a.Fragment,null,u.a.createElement("label",{className:"pb-1 text-sm",htmlFor:"reply-to"},y),u.a.createElement("textarea",{className:m()("p-2 tweries-border",{"bg-green-200":!1===b&&""!==a&&i,"bg-red-200":!1===b&&""!==a&&!i,"tweries-background-color-blue-white":!0===b||""===a}),"data-testid":"reply-to",name:"reply-to",onChange:function(e){var t=e.target.value;n(t)},placeholder:k,rows:1,value:a}))};function j(e){var t=e.length,n=0===t?null:t,a="tweet"===e.type;return u.a.createElement("p",{className:m()("text-right text-xs",{"text-gray-700":!a||a&&t<=280,"text-red-500 ":a&&t>280})},"\xa0",n)}j.defaultProps={type:""};n(13),n(9);n(28);var E="Your tweetstorm has been created!";function C(e){var t=e.notification,n=e.onClick;if(t){var a=t.link,r=t.message,c=t.type;return u.a.createElement("p",{className:m()("border flex justify-between mb-2 p-2 rounded",{"bg-green-100 border-green-800 text-green-800":"success"===c,"bg-red-100 border-red-800 text-red-800":"danger"===c}),"data-testid":"notification"},u.a.createElement("span",null,"danger"===c&&r,"success"===c&&u.a.createElement("a",{className:"underline",href:a,rel:"noopener noreferrer",target:"_blank"},E)),u.a.createElement("button",{className:"font-bold","data-testid":"dismiss",onClick:n,type:"button"},"\xd7"))}return null}C.defaultProps={notification:null};var S=n(31),T=n(29),I=function(){return window.history.replaceState({},document.title,window.location.pathname)},U=u.a.createContext(),R=function(){return Object(s.useContext)(U)},N=function(e){var t=e.children,n=e.onRedirectCallback,a=void 0===n?I:n,r=Object(S.a)(e,["children","onRedirectCallback"]),c=Object(s.useState)(),o=Object(f.a)(c,2),i=o[0],l=o[1],p=Object(s.useState)(),d=Object(f.a)(p,2),b=d[0],m=d[1],h=Object(s.useState)(),w=Object(f.a)(h,2),x=w[0],y=w[1],k=Object(s.useState)(!0),O=Object(f.a)(k,2),j=O[0],E=O[1],C=Object(s.useState)(!1),R=Object(f.a)(C,2),N=R[0],P=R[1];Object(s.useEffect)((function(){(function(){var e=Object(v.a)(g.a.mark((function e(){var t,n,c,o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)(r);case 2:if(t=e.sent,y(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,c=n.appState,a(c);case 10:return e.next=12,t.isAuthenticated();case 12:if(o=e.sent,l(o),!o){e.next=19;break}return e.next=17,t.getUser();case 17:i=e.sent,m(i);case 19:E(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var W=function(){var e=Object(v.a)(g.a.mark((function e(){var t,n,a=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},P(!0),e.prev=2,e.next=5,x.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,P(!1),e.finish(10);case 13:return e.next=15,x.getUser();case 15:n=e.sent,m(n),l(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,x.handleRedirectCallback();case 3:return e.next=5,x.getUser();case 5:t=e.sent,E(!1),l(!0),m(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.a.createElement(U.Provider,{value:{getIdTokenClaims:function(){return x.getIdTokenClaims.apply(x,arguments)},getTokenSilently:function(){return x.getTokenSilently.apply(x,arguments)},getTokenWithPopup:function(){return x.getTokenWithPopup.apply(x,arguments)},handleRedirectCallback:F,isAuthenticated:i,loading:j,loginWithPopup:W,loginWithRedirect:function(){return x.loginWithRedirect.apply(x,arguments)},logout:function(){return x.logout.apply(x,arguments)},popupOpen:N,user:b}},t)};n(30),n(7);n(51);var P=function(){var e=R().user;return u.a.createElement("div",{className:"Playground"},e?u.a.createElement(u.a.Fragment,null,u.a.createElement(O,{callback:console.log,onChange:console.log,tweetUrl:"https://twitter.com/mattiaerre/status/1256370963622629376",userId:e.sub}),u.a.createElement("pre",null,"userId: ",e.sub)):u.a.createElement("span",null,"Loading user ..."))},W=["FEATURE_V1"],F=n(18);var A=function(){F.a.initialize("UA-54446639-10"),F.a.pageview("/")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(o.setFeatures)(W);Object(l.render)(u.a.createElement(N,{client_id:p.clientId,domain:p.domain,onRedirectCallback:function(e){window.history.replaceState({},document.title,e&&e.targetUrl?e.targetUrl:window.location.pathname)},redirect_uri:window.location.origin},u.a.createElement(a.AmplitudeProvider,{amplitudeInstance:c.a.getInstance(),apiKey:"7cbe8a9a37db4f88f06c79a387943cca"},u.a.createElement(a.Amplitude,null,(function(e){e.logEvent;return u.a.createElement(i.a,{features:W},u.a.createElement(P,null))})))),document.getElementById("root"),A()),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.e459b378.chunk.js.map